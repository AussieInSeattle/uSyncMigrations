<div ng-controller="uSyncMigrationDashboardController as vm">

    <umb-box>
        <umb-box-header title-key="usyncmigrate_title"></umb-box-header>
        <umb-box-content>
            <localize key="usyncmigrate_intro"></localize>
        </umb-box-content>
    </umb-box>

    <umb-load-indicator ng-if="vm.loading"></umb-load-indicator>
    <div ng-if="!vm.loading">

        <div ng-if="!vm.hasCustom" class="color-blue flex justify-center mt2 mb3">
            You can customize this list with a <strong>/usync/profiles.json</strong> file to add your own or remove these default migration profiles.
        </div>

        <div class="usync-group-actions">
            <umb-box ng-repeat="profile in vm.profiles" class="usync-group-box">
                <umb-box-content>
                    <div class="usync-group-box-title">
                        <i class="icon {{profile.icon}}"></i>
                        <h2>{{profile.name}}</h2>
                    </div>
                    <small>{{profile.description}}</small>
                    <div class="mt2 muted" style="min-height: 45px;">
                        <ul class="inline">
                            <li ng-repeat="handler in profile.options.handlers"
                                ng-if="handler.include == true">
                                <small>{{handler.name}}</small>
                            </li>
                        </ul>
                    </div>

                    <div class="usync-group-buttons">
                        <umb-button button-style="success btn-large"
                                    action="vm.start(profile)"
                                    label="Migrate"
                                    disabled="vm.working == true"
                                    state="vm.state"></umb-button>
                    </div>

                </umb-box-content>
            </umb-box>
        </div>
    </div>
</div>